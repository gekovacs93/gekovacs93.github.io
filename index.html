<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Accept a Signature Â· Signature Pad</title>
  <style>
    body { font: normal 100.01%/1.375 "Helvetica Neue",Helvetica,Arial,sans-serif; }
    .pre {
      height: 90vh;
    }
  </style>
  <link href="./assets/jquery.signaturepad.css" rel="stylesheet">
  <!--[if lt IE 9]><script src="../assets/flashcanvas.js"></script><![endif]-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
</head>
<body>
  <div class="pre">TEST</div>
  <form method="post" action="" class="sigPad">
    <label for="name">Print your name</label>
    <input type="text" name="name" id="name" class="name">
    <p class="typeItDesc">Review your signature</p>
    <p class="drawItDesc">Draw your signature</p>
    <ul class="sigNav">
      <li class="typeIt"><a href="#type-it" class="current">Type It</a></li>
      <li class="drawIt"><a href="#draw-it" >Draw It</a></li>
      <li class="clearButton"><a href="#clear">Clear</a></li>
    </ul>
    <div class="sig sigWrapper">
      <div class="typed"></div>
      <canvas class="pad" ontouchmove="event.preventDefault();" width="198" height="55"></canvas>
      <input type="hidden" name="output" class="output">
    </div>
    <button type="submit">I accept the terms of this agreement.</button>
  </form>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="./jquery.signaturepad.js"></script>
  <script>
    $(document).ready(function() {
      $('.sigPad').signaturePad({drawOnly: true});
      console.log('ready')
      // $(function() {
      //     var aspectRatio = 0.2777777777777777777777777778;
      //     var canvasWidth = 0, canvasHeight = 0;
      //     $('.sigPad canvas').each(function() { 
      //         var canvas = $(this);
      //         canvasWidth = canvas.width();
      //         canvasHeight = canvasWidth * aspectRatio;
      //         canvas.attr('width', canvasWidth).attr('height', canvasHeight);
      //         canvas.off('touchmove.signaturepad').on('touchmove.signaturepad', function (e) { 
      //           console.log('MIFASZ')
      //           e.stopPropagation(); 
      //         });
      //     });
      //     DrawSignaturePad_bodyContent_SignaturePad = $('.sigPad').signaturePad({drawOnly:true, lineTop:80, lineWidth:0})
      //     $(window).off('resize.signaturepad').on('resize.signaturepad', function() {
      //       var canvas = $('.sigWrapper > canvas');
      //       if (canvas.width() !== canvasWidth) {
      //           canvasWidth = canvas.width();
      //           canvasHeight = canvasWidth * aspectRatio;
      //           canvas.attr('width', canvasWidth).attr('height', canvasHeight);
      //           DrawSignaturePad_bodyContent_SignaturePad.regenerate(DrawSignaturePad_bodyContent_SignaturePad.getSignature());
      //       }
      //   });
      // });
      $(function () {
        'use strict';
        
        var touchHandler = function (event) {
          var touch = event.changedTouches[0];
          var simulatedEvent = document.createEvent("MouseEvent");
          simulatedEvent.initMouseEvent({
            touchstart: "mousedown",
            touchmove: "mousemove",
            touchend: "mouseup"
          }[event.type], true, true, window, 1,
          touch.screenX, touch.screenY,
          touch.clientX, touch.clientY, false,
          false, false, false, 0, null);
          
          
          console.log('HOLABOLA', simulatedEvent);
          touch.target.dispatchEvent(simulatedEvent);
        };

        document.addEventListener("touchstart", touchHandler, true);
        document.addEventListener("touchmove", touchHandler, true);
        document.addEventListener("touchend", touchHandler, true);
        document.addEventListener("touchcancel", touchHandler, true);
      });
    });
  </script>
  <script src="./assets/json2.min.js"></script>
</body>
